"""
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–∞ –ø–æ–¥—Å—á–µ—Ç–∞ –∫–∞–ª–æ—Ä–∏–π
"""
import os
from dotenv import load_dotenv

# –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
load_dotenv()

# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN = os.getenv('TELEGRAM_BOT_TOKEN', '')
if not TELEGRAM_BOT_TOKEN:
    raise ValueError("TELEGRAM_BOT_TOKEN –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è")

# OpenAI API Configuration
OPENAI_API_KEY = os.getenv('OPENAI_API_KEY', '')
if not OPENAI_API_KEY:
    raise ValueError("OPENAI_API_KEY –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è")

# Database Configuration
DATABASE_URL = os.getenv('DATABASE_URL', 'sqlite:///calorie_bot.db')

# Bot Configuration
BOT_NAME = os.getenv('BOT_NAME', '–ö–∞–ª–æ—Ä–∏–∏ –ë–æ—Ç üçé')
ADMIN_USER_ID = os.getenv('ADMIN_USER_ID', '')

# Server Configuration (–¥–ª—è –¥–µ–ø–ª–æ—è)
PORT = int(os.getenv('PORT', 8000))
HOST = os.getenv('HOST', '0.0.0.0')
WEBHOOK_URL = os.getenv('WEBHOOK_URL', '')

# AI Configuration
AI_MODEL = "gpt-4o"
MAX_TOKENS = 1000

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω–∞–ª–∏–∑–∞ –∫–∞–ª–æ—Ä–∏–π
CALORIE_PROMPT = """
–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —ç—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –µ–¥—ã –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ç–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–ª–æ—Ä–∏—è—Ö.

–í–ê–ñ–ù–´–ï –ü–†–ê–í–ò–õ–ê:
1. –¢–û–ß–ù–û –ø–æ–¥—Å—á–∏—Ç–∞–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞ - —Å—á–∏—Ç–∞–π —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –ß–ï–¢–ö–û –≤–∏–¥–Ω–æ
2. –ù–ï –¥–æ–¥—É–º—ã–≤–∞–π –∏ –ù–ï –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–π –Ω–∞–ª–∏—á–∏–µ —Å–∫—Ä—ã—Ç—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤  
3. –ï—Å–ª–∏ —Å–æ–º–Ω–µ–≤–∞–µ—à—å—Å—è –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ - —É–∫–∞–∂–∏ —ç—Ç–æ –≤ portion_size
4. –û—Ü–µ–Ω–∏–≤–∞–π —Ä–∞–∑–º–µ—Ä –ø–æ—Ä—Ü–∏–π —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã)
5. –£—á–∏—Ç—ã–≤–∞–π —Ç–æ–ª—â–∏–Ω—É, –ø–ª–æ—Ç–Ω–æ—Å—Ç—å –∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –±–ª—é–¥

–§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê - —Å—Ç—Ä–æ–≥–æ JSON:
{
    "food_items": [
        {
            "name": "—Ç–æ—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞/–ø—Ä–æ–¥—É–∫—Ç–∞",
            "portion_size": "–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å –µ–¥–∏–Ω–∏—Ü–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 4 —à—Ç—É–∫–∏, 1 —Å—Ä–µ–¥–Ω—è—è —Ç–∞—Ä–µ–ª–∫–∞, 200–º–ª)",
            "calories": –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–∫–∞–ª–æ—Ä–∏–π_—á–∏—Å–ª–æ,
            "proteins": –≥—Ä–∞–º–º—ã_–±–µ–ª–∫–∞_—á–∏—Å–ª–æ,
            "carbs": –≥—Ä–∞–º–º—ã_—É–≥–ª–µ–≤–æ–¥–æ–≤_—á–∏—Å–ª–æ,
            "fats": –≥—Ä–∞–º–º—ã_–∂–∏—Ä–æ–≤_—á–∏—Å–ª–æ,
            "certainty": "–≤—ã—Å–æ–∫–∞—è/—Å—Ä–µ–¥–Ω—è—è/–Ω–∏–∑–∫–∞—è - –Ω–∞—Å–∫–æ–ª—å–∫–æ —É–≤–µ—Ä–µ–Ω –≤ —ç—Ç–æ–º –ø—Ä–µ–¥–º–µ—Ç–µ"
        }
    ],
    "total_calories": –æ–±—â–µ–µ_–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–∫–∞–ª–æ—Ä–∏–π_—á–∏—Å–ª–æ,
    "confidence": —á–∏—Å–ª–æ_–æ—Ç_0_–¥–æ_100,
    "analysis_notes": "–∫—Ä–∞—Ç–∫–∏–µ –∑–∞–º–µ—Ç–∫–∏ –æ —Ç–æ–º, —á—Ç–æ –±—ã–ª–æ —Å–ª–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏–ª–∏ –≤—ã–∑–≤–∞–ª–æ —Å–æ–º–Ω–µ–Ω–∏—è"
}

–ï—Å–ª–∏ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –Ω–µ—Ç –µ–¥—ã, –≤–µ—Ä–Ω–∏ confidence: 0 –∏ –æ–±—ä—è—Å–Ω–∏ —á—Ç–æ –≤–∏–¥–∏—à—å –≤ analysis_notes.
"""

# –≠–º–æ–¥–∑–∏ –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
EMOJIS = {
    'food': 'üçΩÔ∏è',
    'stats': 'üìä',
    'calendar': 'üìÖ',
    'fire': 'üî•',
    'scales': '‚öñÔ∏è',
    'chart': 'üìà',
    'settings': '‚öôÔ∏è',
    'help': '‚ùì',
    'back': '‚¨ÖÔ∏è',
    'checkmark': '‚úÖ',
    'warning': '‚ö†Ô∏è',
    'error': '‚ùå',
    'apple': 'üçé',
    'water': 'üíß',
    'muscle': 'üí™'
}
